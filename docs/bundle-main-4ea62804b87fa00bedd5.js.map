{"version":3,"sources":["webpack://Demo/webpack/bootstrap","webpack://Demo/../organic-quads/lib/index.js","webpack://Demo/./src/index.js","webpack://Demo/../organic-quads/lib/vector.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vector","default","_performanceNow","_interopRequireDefault","require","obj","_slicedToArray","arr","Array","isArray","_arrayWithHoles","iterator","_arr","_n","_d","_e","undefined","_s","_i","next","done","err","_iterableToArrayLimit","_unsupportedIterableToArray","TypeError","_nonIterableRest","ownKeys","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","_objectSpread","target","arguments","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","configurable","writable","_defineProperties","props","descriptor","_toConsumableArray","_arrayLikeToArray","_arrayWithoutHoles","iter","from","_iterableToArray","_nonIterableSpread","minLen","toString","constructor","test","len","arr2","SIXTH","Math","PI","DEFAULT_CONFIG","width","height","numberOfRings","removeEdges","animatedEasing","renderFirstPassEdges","debug","addQuads","weightFunction","x0","y0","x1","y1","dx","dy","sqrt","edgeLength","maxIterations","animating","minTension","findOtherEdge","faces","index","out","count","edge","removeRandomEdges","config","firstPassNumEdges","stack","numFaces","Int32Array","pos","firstPassLen","scaled","random","tmp","getEdgeStack","console","log","stackPos","eraseEdgesOfFaceInStack","success","code","otherIndex","otherEdge","x2","y2","otherIsOutmostTri","relaxWeighted","graph","tension","edgeCount","centerX","centerY","sumWeight","k","other","_x","_y","weight","relaxCount","_default","OrganicQuads","cfg","_this","this","instance","Constructor","_classCallCheck","render","ctx","save","hw","hh","translate","fillStyle","fillRect","strokeStyle","lineWidth","beginPath","moveTo","lineTo","closePath","stroke","outmostEdge","drawEdge","node","_i2","restore","limit","_config","min","_faces","DIRECTIONS","cos","sin","Float64Array","off","numTris","v0","v1","v2","copy","scale","x","y","add","isOutmost","createHexagonTriangles","start","_subdivide2","numNodes","tris","quads","calculateNumNodes","nodes","qPos","insertNode","isEdge","abs","addQuad","n0","n1","n2","n3","insertEdge","found","Error","connect","firstEdgeIsOutmost","secondEdgeIsOutmost","m0x","m0y","m1x","m1y","m2x","m2y","cx","cy","n4","n5","n6","x3","y3","_m0x","_m0y","_m1x","_m1y","_m2x","_m2y","m3x","m3y","_cx","_cy","_n2","_n3","_n4","_n5","_n6","_n7","n7","n8","subdivide","_graph","protoProps","staticProps","Islands","island","useMemo","organicQuads","Float32Array","boxes","onEdge","rnd","h","shape","Shape","box","rotateOnWorldAxis","castShadow","receiveShadow","attach","args","steps","depth","bevelEnabled","bevelThickness","bevelSize","bevelOffset","bevelSegments","roughness","color","ref","useRef","useFrame","current","rotation","z","GLTFLoader","load","gltf","xhr","loaded","total","error","Game","shadowMap","camera","position","fov","intensity","angle","penumbra","ReactDOM","document","getElementById","Vector","targetLength"],"mappings":"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","file":"bundle-main-4ea62804b87fa00bedd5.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonpDemo\"] = window[\"webpackJsonpDemo\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([15,2]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"Vector\", {\n  enumerable: true,\n  get: function get() {\n    return _vector.default;\n  }\n});\nexports.default = void 0;\n\nvar _performanceNow = _interopRequireDefault(require(\"performance-now\"));\n\nvar _vector = _interopRequireDefault(require(\"./vector\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nvar f_x0 = 0;\nvar f_y0 = 1;\nvar f_x1 = 2;\nvar f_y1 = 3;\nvar f_x2 = 4;\nvar f_y2 = 5;\nvar f_x3 = 6;\nvar f_y3 = 7;\nvar f_count = 8;\nvar f_outmostEdge = 9;\nvar f_size = 10;\nvar g_x = 0;\nvar g_y = 1;\nvar g_isEdge = 2;\nvar g_count = 3;\nvar g_edge0 = 4;\nvar g_edge1 = 5;\nvar g_edge2 = 6;\nvar g_edge3 = 7;\nvar g_edge4 = 8;\nvar g_edge5 = 9;\nvar g_size = 10;\nvar TAU = Math.PI * 2;\nvar SIXTH = TAU / 6;\n\nfunction calculateNumberOfFaces(limit) {\n  return 6 * (limit + 1) * (limit + 1);\n}\n\nvar DEFAULT_CONFIG = {\n  /** coordinate width */\n  width: 0,\n\n  /** coordinate height */\n  height: 0,\n\n  /** number of rings in the hexagon / number of base intersections of hexaxgon */\n  numberOfRings: 5,\n\n  /** how many percent of the edges shall we attempt to remove? */\n  removeEdges: 50,\n\n  /** if true, the graph will be layouted a bit with every render. If false, the graph relaxation happens at creation */\n  animatedEasing: true,\n\n  /** Set to true to render the original triangles, set to \"merged\" to render the merged triangles before subdivision */\n  renderFirstPassEdges: false,\n\n  /** Set to true to enable some debug logging */\n  debug: false,\n  addQuads: false,\n  weightFunction: function weightFunction(x0, y0, x1, y1) {\n    var dx = x1 - x0;\n    var dy = y1 - y0;\n    return Math.sqrt(dx * dx + dy * dy);\n  },\n  /// MOSTLY INTERNAL CONFIG ////\n  // calculated internally to match the height\n  edgeLength: 80,\n  // number of iterations until we give up (we will drop out due to having reached low energy most likely much sooner)\n  maxIterations: 100,\n  // set to false if the graph is done animated on animatedEasing : true\n  animating: true,\n  // Minimum energy at which we stop relaxing the graph\n  minTension: 2\n};\n\nfunction updateConfig(config) {\n  config.numFaces = calculateNumberOfFaces(config.numberOfRings);\n  config.firstPassLen = config.numFaces * f_size;\n  config.firstPassNumEdges = config.numFaces * 3;\n  config.edgeLength = Math.min(config.width, config.height) / (config.numberOfRings * 2 + 2) | 0;\n  config.animating = config.animatedEasing;\n  config.relaxCount = 0;\n}\n\nfunction createHexagonTriangles(config) {\n  var limit = config.numberOfRings; //console.log(\"createHexagonTriangles\", limit);\n\n  var DIRECTIONS = [new _vector.default(Math.cos(0) * config.edgeLength, Math.sin(0) * config.edgeLength), new _vector.default(Math.cos(SIXTH) * config.edgeLength, Math.sin(SIXTH) * config.edgeLength), new _vector.default(Math.cos(SIXTH * 2) * config.edgeLength, Math.sin(SIXTH * 2) * config.edgeLength), new _vector.default(Math.cos(SIXTH * 3) * config.edgeLength, Math.sin(SIXTH * 3) * config.edgeLength), new _vector.default(Math.cos(SIXTH * 4) * config.edgeLength, Math.sin(SIXTH * 4) * config.edgeLength), new _vector.default(Math.cos(SIXTH * 5) * config.edgeLength, Math.sin(SIXTH * 5) * config.edgeLength)];\n  var faces = new Float64Array(config.firstPassLen);\n  var off = 0;\n  var count = 0;\n  var numTris = 1;\n\n  do {\n    for (var i = 0; i < 6; i++) {\n      var v0 = DIRECTIONS[i];\n      var v1 = DIRECTIONS[(i + 1) % 6];\n      var v2 = DIRECTIONS[(i + 2) % 6];\n      var pos = v0.copy().scale(count);\n\n      for (var j = 0; j < numTris; j++) {\n        if (j & 1) {\n          faces[off + f_x0] = pos.x | 0;\n          faces[off + f_y0] = pos.y | 0;\n          faces[off + f_x1] = pos.x + v1.x | 0;\n          faces[off + f_y1] = pos.y + v1.y | 0;\n          faces[off + f_x2] = pos.x + v2.x | 0;\n          faces[off + f_y2] = pos.y + v2.y | 0;\n          faces[off + f_count] = 3;\n          faces[off + f_outmostEdge] = -1;\n          off += f_size;\n          pos.add(v2);\n        } else {\n          // All tris in the last row all have their edge #1 on the outer edge of the big hexagon\n          var isOutmost = count === limit;\n          faces[off + f_x0] = pos.x | 0;\n          faces[off + f_y0] = pos.y | 0;\n          faces[off + f_x1] = pos.x + v0.x | 0;\n          faces[off + f_y1] = pos.y + v0.y | 0;\n          faces[off + f_x2] = pos.x + v1.x | 0;\n          faces[off + f_y2] = pos.y + v1.y | 0;\n          faces[off + f_count] = 3;\n          faces[off + f_outmostEdge] = isOutmost ? 1 : -1;\n          off += f_size;\n        }\n      }\n    }\n\n    numTris += 2;\n  } while (count++ < limit);\n\n  return faces;\n}\n\nfunction findOtherEdge(faces, x0, y0, x1, y1, index, out) {\n  for (var i = 0; i < faces.length; i += f_size) {\n    if (i === index) {\n      continue;\n    } // console.log(\"find\", x0, y0, x1, y1, \":\",\n    //     faces[i + f_x0], faces[i + f_y0],\n    //     faces[i + f_x1], faces[i + f_y1],\n    //     faces[i + f_x2], faces[i + f_y2],\n    //     faces[i + f_x3], faces[i + f_y3],\n    // );\n\n\n    var count = faces[i + f_count];\n\n    if (faces[i + f_x0] === x1 && faces[i + f_y0] === y1 && faces[i + f_x1] === x0 && faces[i + f_y1] === y0) {\n      out.index = i;\n      out.edge = 0;\n      return;\n    }\n\n    if (faces[i + f_x1] === x1 && faces[i + f_y1] === y1 && faces[i + f_x2] === x0 && faces[i + f_y2] === y0) {\n      out.index = i;\n      out.edge = 1;\n      return;\n    }\n\n    if (count === 3) {\n      if (faces[i + f_x2] === x1 && faces[i + f_y2] === y1 && faces[i + f_x0] === x0 && faces[i + f_y0] === y0) {\n        out.index = i;\n        out.edge = 2;\n        return;\n      }\n    } else {\n      if (faces[i + f_x2] === x1 && faces[i + f_y2] === y1 && faces[i + f_x3] === x0 && faces[i + f_y3] === y0) {\n        out.index = i;\n        out.edge = 2;\n        return;\n      }\n\n      if (faces[i + f_x3] === x1 && faces[i + f_y3] === y1 && faces[i + f_x0] === x0 && faces[i + f_y0] === y0) {\n        out.index = i;\n        out.edge = 3;\n        return;\n      }\n    }\n  }\n\n  out.index = -1;\n}\n\nvar out = {\n  index: -1,\n  edge: 0\n};\n\nfunction getEdgeStack(config, faces) {\n  var length = config.numFaces * 3;\n  var stack = new Int32Array(length);\n  var pos = 0;\n\n  for (var i = 0; i < config.firstPassLen; i += f_size) {\n    var outmostEdge = faces[i + f_outmostEdge];\n    var targetIsOutmostFace = outmostEdge >= 0; // we can't remove any of the outmost edges around the big hexagon (and we avoid having an edge triange as\n    // first merged triangle to simplify edge removal\n\n    if (!targetIsOutmostFace) {\n      var scaled = i << 2;\n      stack[pos++] = scaled;\n      stack[pos++] = scaled + 1;\n      stack[pos++] = scaled + 2;\n    }\n  } // fisher-yates shuffle the stack\n\n\n  for (var _i = 0; _i < pos - 2; _i++) {\n    var j = _i + (Math.random() * pos - _i - 1 | 0);\n\n    var tmp = stack[_i];\n    stack[_i] = stack[j];\n    stack[j] = tmp;\n  }\n\n  return stack.slice(0, pos);\n}\n\nfunction removeRandomEdges(config, faces) {\n  var count = config.firstPassNumEdges * config.removeEdges / 100 | 0; //console.log(\"remove attempts\", count);\n\n  var stack = getEdgeStack(config, faces);\n\n  if (config.debug) {\n    console.log(\"Shuffled stack\", _toConsumableArray(stack.slice()));\n  }\n\n  var stackPos = 0;\n\n  var eraseEdgesOfFaceInStack = function eraseEdgesOfFaceInStack(index) {\n    for (var i = stackPos; i < stack.length; i++) {\n      if (stack[i] >>> 2 === index) {\n        stack[i] = -1;\n      }\n    }\n  };\n\n  var success = 0; // function printEdge(faces, otherIndex, outMostEdge)\n  // {\n  //     const count = faces[otherIndex + f_count];\n  //     const x0 = faces[otherIndex + outMostEdge * 2]\n  //     const y0 = faces[otherIndex + outMostEdge * 2 + 1]\n  //     const x1 = outMostEdge === count -1 ? faces[otherIndex] : faces[otherIndex + (outMostEdge + 1) * 2]\n  //     const y1 = outMostEdge === count -1 ? faces[otherIndex + 1] : faces[otherIndex + (outMostEdge + 1) * 2 + 1]\n  //\n  //\n  //     return x0 + \",\" + y0 + \",\" + x1 + \",\" + y1;\n  // }\n\n  for (var i = 0; i < count; i++) {\n    var code = void 0;\n\n    do {\n      if (stackPos === stack.length) {\n        if (config.debug) {\n          config.debug && console.log(\"Ran out of removal candidates after successfully removing\", success, \"out of\", count);\n        } // no more valid removals\n\n\n        return;\n      }\n\n      code = stack[stackPos++];\n    } while (code === -1);\n\n    var index = code >> 2;\n    var edge = code & 3;\n    var x0 = faces[index + edge * 2];\n    var y0 = faces[index + edge * 2 + 1];\n    var x1 = edge === 2 ? faces[index + f_x0] : faces[index + (edge + 1) * 2];\n    var y1 = edge === 2 ? faces[index + f_y0] : faces[index + (edge + 1) * 2 + 1];\n    findOtherEdge(faces, x0, y0, x1, y1, index, out);\n\n    if (out.index >= 0 && faces[out.index + f_count] === 3) {\n      var otherIndex = out.index,\n          otherEdge = out.edge;\n      var x2 = edge === 0 ? faces[index + f_x2] : faces[index + (edge - 1) * 2];\n      var y2 = edge === 0 ? faces[index + f_y2] : faces[index + (edge - 1) * 2 + 1]; // check if we're merging with an outmost face\n\n      var outMostEdge = faces[otherIndex + 9];\n      var otherIsOutmostTri = outMostEdge >= 0; //const before = printEdge(faces, otherIndex, outMostEdge)\n      // if (otherIsOutmostTri)\n      // {\n      //     console.log(\"OUTMOST edge before split\", printEdge(faces, otherIndex, outMostEdge),\"EDGE CASE\", otherEdge, \"outMostEdge\", outMostEdge)\n      //     console.log(\"face before\", faces.slice(otherIndex, otherIndex + f_size))\n      // }\n\n      faces[otherIndex + 8] = 4;\n\n      switch (otherEdge) {\n        case 2:\n          faces[otherIndex + f_x3] = x2;\n          faces[otherIndex + f_y3] = y2;\n          break;\n\n        case 1:\n          faces[otherIndex + f_x3] = faces[otherIndex + f_x2];\n          faces[otherIndex + f_y3] = faces[otherIndex + f_y2];\n          faces[otherIndex + f_x2] = x2;\n          faces[otherIndex + f_y2] = y2;\n          break;\n\n        case 0:\n          faces[otherIndex + f_x3] = faces[otherIndex + f_x2];\n          faces[otherIndex + f_y3] = faces[otherIndex + f_y2];\n          faces[otherIndex + f_x2] = faces[otherIndex + f_x1];\n          faces[otherIndex + f_y2] = faces[otherIndex + f_y1];\n          faces[otherIndex + f_x1] = x2;\n          faces[otherIndex + f_y1] = y2;\n\n          if (otherIsOutmostTri) {\n            faces[otherIndex + f_outmostEdge] = 2;\n          }\n\n          break;\n      }\n\n      eraseEdgesOfFaceInStack(otherIndex); // remove our face\n\n      faces[index + f_count] = 0;\n      success++;\n    }\n\n    eraseEdgesOfFaceInStack(index);\n  }\n\n  config.debug && console.log(\"Successfully removed\", success, \"out of\", count);\n  return success;\n}\n\nfunction calculateNumNodes(config, faces) {\n  var tris = 0;\n  var quads = 0;\n\n  for (var i = 0; i < config.firstPassLen; i += f_size) {\n    var count = faces[i + f_count];\n\n    if (count === 3) {\n      tris++;\n    } else if (count === 4) {\n      quads++;\n    }\n  } //console.log({quads,tris})\n  // we divide each quad in 9 nodes and each tri into 7 nodes\n\n\n  return quads * 9 + tris * 7;\n}\n\nvar QUAD_SIZE = 4;\n\nfunction subdivide(config, faces) {\n  var firstPassLen = config.firstPassLen,\n      addQuads = config.addQuads;\n  var numNodes = calculateNumNodes(config, faces);\n  var nodes = new Float64Array(numNodes * g_size);\n  var quads = addQuads && new Int32Array(numNodes * QUAD_SIZE);\n  var pos = 0;\n  var qPos = 0;\n\n  var insertNode = function insertNode(x0, y0, isEdge) {\n    x0 |= 0;\n    y0 |= 0;\n\n    for (var i = 0; i < pos; i += g_size) {\n      if (Math.abs(nodes[i] - x0) < 2 && Math.abs(nodes[i + 1] - y0) < 2) {\n        // if we discover an odd face vertex touching the outmost edge, we will\n        // not register that because the odd tris are not marked as having an outmost edge, because they don't, they\n        // only have one vertices on the edge at most\n        // Later we might however return to that node within an outmost edge and we have to make sure that\n        // we take over the isEdge status from such a node\n        if (isEdge && !nodes[i + 2]) {\n          nodes[i + 2] = 1;\n        }\n\n        return i;\n      }\n    }\n\n    var index = pos;\n    nodes[pos] = x0;\n    nodes[pos + 1] = y0;\n    nodes[pos + 2] = isEdge ? 1 : 0;\n    nodes[pos + 3] = 0;\n    nodes[pos + 4] = -1;\n    nodes[pos + 5] = -1;\n    nodes[pos + 6] = -1;\n    nodes[pos + 7] = -1;\n    pos += g_size;\n    return index;\n  };\n\n  var addQuad = addQuads && function (n0, n1, n2, n3) {\n    quads[qPos++] = n0;\n    quads[qPos++] = n1;\n    quads[qPos++] = n2;\n    quads[qPos++] = n3;\n  };\n\n  var insertEdge = function insertEdge(n0, n1) {\n    var count = nodes[n0 + 3];\n    var found = false;\n\n    for (var i = 0; i < count; i++) {\n      var other = nodes[n0 + 4 + i];\n\n      if (other === n1) {\n        found = true;\n        break;\n      }\n    }\n\n    if (!found) {\n      if (count >= 10) {\n        throw new Error(\"At most 10 edges per node\");\n      }\n\n      nodes[n0 + 4 + count++] = n1;\n      nodes[n0 + 3] = count;\n    }\n  };\n\n  var connect = function connect(n0, n1) {\n    insertEdge(n0, n1);\n    insertEdge(n1, n0);\n  };\n\n  for (var i = 0; i < firstPassLen; i += f_size) {\n    var count = faces[i + f_count];\n\n    if (count === 0) {\n      continue;\n    }\n\n    var x0 = faces[i + f_x0];\n    var y0 = faces[i + f_y0];\n    var x1 = faces[i + f_x1];\n    var y1 = faces[i + f_y1];\n    var x2 = faces[i + f_x2];\n    var y2 = faces[i + f_y2];\n    var outmostEdge = faces[i + f_outmostEdge];\n    var firstEdgeIsOutmost = outmostEdge === 1;\n    var secondEdgeIsOutmost = outmostEdge === 2;\n\n    if (count === 3) {\n      var m0x = (x0 + x1) / 2;\n      var m0y = (y0 + y1) / 2;\n      var m1x = (x1 + x2) / 2;\n      var m1y = (y1 + y2) / 2;\n      var m2x = (x2 + x0) / 2;\n      var m2y = (y2 + y0) / 2;\n      var cx = (x0 + x1 + x2) / 3;\n      var cy = (y0 + y1 + y2) / 3;\n      var n0 = insertNode(x0, y0);\n      var n1 = insertNode(m0x, m0y);\n      var n2 = insertNode(x1, y1, firstEdgeIsOutmost);\n      var n3 = insertNode(m1x, m1y, firstEdgeIsOutmost);\n      var n4 = insertNode(x2, y2, firstEdgeIsOutmost);\n      var n5 = insertNode(m2x, m2y);\n      var n6 = insertNode(cx, cy);\n      connect(n0, n1);\n      connect(n1, n6);\n      connect(n6, n5);\n      connect(n5, n0);\n      connect(n1, n2);\n      connect(n2, n3);\n      connect(n3, n6);\n      connect(n6, n1);\n      connect(n5, n6);\n      connect(n6, n3);\n      connect(n3, n4);\n      connect(n4, n5);\n\n      if (addQuads) {\n        addQuad(n0, n1, n6, n5);\n        addQuad(n1, n2, n3, n6);\n        addQuad(n5, n6, n3, n4);\n      }\n    } else {\n      var x3 = faces[i + f_x3];\n      var y3 = faces[i + f_y3];\n\n      var _m0x = (x0 + x1) / 2;\n\n      var _m0y = (y0 + y1) / 2;\n\n      var _m1x = (x1 + x2) / 2;\n\n      var _m1y = (y1 + y2) / 2;\n\n      var _m2x = (x2 + x3) / 2;\n\n      var _m2y = (y2 + y3) / 2;\n\n      var m3x = (x3 + x0) / 2;\n      var m3y = (y3 + y0) / 2;\n\n      var _cx = (x0 + x1 + x2 + x3) / 4;\n\n      var _cy = (y0 + y1 + y2 + y3) / 4;\n\n      var _n = insertNode(x0, y0);\n\n      var _n2 = insertNode(_m0x, _m0y);\n\n      var _n3 = insertNode(x1, y1, firstEdgeIsOutmost);\n\n      var _n4 = insertNode(_m1x, _m1y, firstEdgeIsOutmost);\n\n      var _n5 = insertNode(x2, y2, firstEdgeIsOutmost || secondEdgeIsOutmost);\n\n      var _n6 = insertNode(_m2x, _m2y, secondEdgeIsOutmost);\n\n      var _n7 = insertNode(x3, y3, secondEdgeIsOutmost);\n\n      var n7 = insertNode(m3x, m3y);\n      var n8 = insertNode(_cx, _cy);\n      connect(_n, _n2);\n      connect(_n2, _n3);\n      connect(_n3, _n4);\n      connect(_n4, _n5);\n      connect(_n5, _n6);\n      connect(_n6, _n7);\n      connect(_n7, n7);\n      connect(n7, _n);\n      connect(n8, _n4);\n      connect(n8, _n6);\n      connect(n8, n7);\n      connect(n8, _n2);\n\n      if (addQuads) {\n        addQuad(_n, _n2, n8, n7);\n        addQuad(_n2, _n3, _n4, n8);\n        addQuad(n8, _n4, _n5, _n6);\n        addQuad(n7, n8, _n6, _n7);\n      }\n    }\n  } //const fillRate = (pos / g_size) / numNodes;\n  //console.log(\"SUBDIVIDED: limit = \", numNodes, \", fill rate = \", fillRate);\n\n\n  return [nodes.slice(0, pos), quads && quads.slice(0, qPos)];\n}\n\nfunction relaxWeighted(config, graph) {\n  var maxIterations = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  var length = graph.length;\n\n  for (var i = 0; i < maxIterations; i++) {\n    var tension = 0;\n\n    for (var j = 0; j < length; j += g_size) {\n      if (!graph[j + g_isEdge]) {\n        var x0 = graph[j + g_x];\n        var y0 = graph[j + g_y];\n        var edgeCount = graph[j + g_count];\n        var centerX = 0;\n        var centerY = 0;\n        var sumWeight = 0;\n\n        for (var k = 0; k < edgeCount; k++) {\n          var other = graph[j + 4 + k];\n          var _x = graph[other];\n          var _y = graph[other + 1];\n          var weight = config.weightFunction(x0, y0, _x, _y);\n          centerX += _x * weight;\n          centerY += _y * weight;\n          sumWeight += weight;\n        }\n\n        var x1 = centerX / sumWeight;\n        var y1 = centerY / sumWeight;\n        var dx = x1 - x0;\n        var dy = y1 - y0;\n        graph[j + g_x] = x1;\n        graph[j + g_y] = y1;\n        tension += dx * dx + dy * dy;\n      }\n    }\n\n    if (tension < config.minTension) {\n      config.debug && console.log(\"Reached minimal tension\", config.minTension, \"after\", config.relaxCount, \"iterations\");\n      return true;\n    }\n\n    config.relaxCount++;\n  }\n\n  if (!config.animatedEasing) {\n    config.debug && console.log(\"Stopping after max iterations = \" + config.maxIterations);\n  }\n\n  return false;\n}\n/**\n * A hexagon filled with quads forming organic shapes.\n */\n\n\nvar OrganicQuads = /*#__PURE__*/function () {\n  function OrganicQuads(cfg) {\n    var _this = this;\n\n    _classCallCheck(this, OrganicQuads);\n\n    this.render = function (ctx) {\n      var config = _this.config,\n          graph = _this.graph,\n          faces = _this.faces;\n      ctx.save();\n      var hw = config.width / 2;\n      var hh = config.height / 2;\n      ctx.translate(hw, hh);\n      var length = graph.length;\n      ctx.fillStyle = \"#000\";\n      ctx.fillRect(-hw, -hh, config.width, config.height);\n\n      if (config.renderFirstPassEdges) {\n        // draw original quads and tris\n        ctx.strokeStyle = \"#f00\";\n        ctx.lineWidth = 1;\n        var outerCount = 0;\n\n        for (var pos = 0; pos < config.firstPassLen; pos += f_size) {\n          var count = faces[pos + f_count];\n\n          if (count >= 3) {\n            ctx.beginPath();\n            ctx.moveTo(faces[pos + f_x0], faces[pos + f_y0]);\n\n            for (var i = 1; i < count; i++) {\n              ctx.lineTo(faces[pos + i * 2], faces[pos + i * 2 + 1]);\n            }\n\n            ctx.closePath();\n            ctx.stroke();\n            var outmostEdge = faces[pos + f_outmostEdge];\n\n            if (outmostEdge >= 0) {\n              ctx.strokeStyle = \"#fe0\";\n              ctx.beginPath();\n              ctx.moveTo(faces[pos + outmostEdge * 2], faces[pos + outmostEdge * 2 + 1]);\n\n              if (outmostEdge === count - 1) {\n                ctx.lineTo(faces[pos + f_x0], faces[pos + f_y0]);\n              } else {\n                ctx.lineTo(faces[pos + (outmostEdge + 1) * 2], faces[pos + (outmostEdge + 1) * 2 + 1]);\n              }\n\n              ctx.stroke();\n              ctx.strokeStyle = \"#f00\";\n              outerCount++;\n            }\n          }\n        } //    console.log(\"Number of outer edges\", outerCount)\n        //console.log(\"DRAW EDGES\")\n\n      }\n\n      ctx.strokeStyle = \"#fff\";\n      ctx.lineWidth = 1;\n\n      function drawEdge(x0, y0, node) {\n        var x1 = graph[node + g_x];\n        var y1 = graph[node + g_y];\n        ctx.beginPath();\n        ctx.moveTo(x0, y0);\n        ctx.lineTo(x1, y1);\n        ctx.stroke();\n      }\n\n      for (var _i2 = 0; _i2 < length; _i2 += g_size) {\n        var x0 = graph[_i2 + g_x];\n        var y0 = graph[_i2 + g_y];\n        var edgeCount = graph[_i2 + g_count];\n\n        for (var j = 0; j < edgeCount; j++) {\n          drawEdge(x0, y0, graph[_i2 + g_edge0 + j]);\n        }\n      } //ctx.fillStyle = \"#f0f\";\n      //\n      // for (let i = 0; i < length; i += g_size)\n      // {\n      //     const x0 = graph[i + g_x];\n      //     const y0 = graph[i + g_y];\n      //     const isEdge = graph[i + g_isEdge];\n      //\n      //     if (isEdge)\n      //     {\n      //         ctx.fillRect(x0 - 4,  y0 - 4, 8, 8)\n      //     }\n      // }\n      // ctx.strokeStyle = \"#f00\";\n      // ctx.lineWidth = 4;\n      //\n      // for (let pos = 0; pos < config.firstPassLen; pos += f_size)\n      // {\n      //     const count = faces[pos + f_count];\n      //     const outmostEdge = faces[pos + f_outmostEdge];\n      //\n      //\n      //     const last = count - 1;\n      //     for (let i=0; i < count; i++)\n      //     {\n      //         if (i === outmostEdge)\n      //         {\n      //             ctx.strokeStyle = \"rgba(255,0,0,0.5)\";\n      //         }\n      //         else\n      //         {\n      //             ctx.strokeStyle = \"rgba(0,255,0,0.5)\";\n      //         }\n      //\n      //         ctx.beginPath();\n      //         ctx.moveTo(faces[pos + i * 2], faces[pos + i * 2 + 1]);\n      //         ctx.lineTo(\n      //             i === last ? faces[pos + f_x0 ] : faces[pos + (i+1) * 2],\n      //             i === last ? faces[pos + f_y0 ] : faces[pos + (i+1) * 2 + 1]\n      //         );\n      //         ctx.stroke();\n      //     }\n      // }\n\n\n      ctx.restore();\n\n      if (config.animating) {\n        if (relaxWeighted(config, graph)) {\n          config.animating = false;\n        } //            raf(redrawGraph)\n\n      }\n    };\n\n    var _config = _objectSpread(_objectSpread({}, DEFAULT_CONFIG), cfg);\n\n    updateConfig(_config);\n    this.config = _config;\n\n    var _faces = createHexagonTriangles(_config);\n\n    if (_config.renderFirstPassEdges) {\n      this.faces = _config.renderFirstPassEdges !== \"merged\" ? _faces.slice() : _faces;\n    }\n\n    var start = _config.debug && (0, _performanceNow.default)();\n    removeRandomEdges(_config, _faces);\n    _config.debug && console.log(\"Edge removal in \", (0, _performanceNow.default)() - start, \"ms\");\n\n    var _subdivide = subdivide(_config, _faces),\n        _subdivide2 = _slicedToArray(_subdivide, 2),\n        _graph = _subdivide2[0],\n        quads = _subdivide2[1];\n\n    this.quads = quads;\n\n    if (!_config.animating) {\n      relaxWeighted(_config, _graph, _config.maxIterations);\n    } //console.log(\"GRAPH f_size\", graph.length / g_size, graph);\n\n\n    this.graph = _graph;\n  }\n\n  _createClass(OrganicQuads, [{\n    key: \"nodeSize\",\n    get: function get() {\n      return f_size;\n    }\n  }]);\n\n  return OrganicQuads;\n}();\n\nvar _default = OrganicQuads;\nexports.default = _default;","import React, { useMemo, useRef, useState } from \"react\"\nimport ReactDOM from 'react-dom'\nimport { Canvas, useFrame } from \"react-three-fiber\"\nimport { ExtrudeBufferGeometry, DirectionalLight, Plane, MeshStandardMaterial, HemisphereLight  } from \"react-three-fiber/components\"\n// noinspection ES6UnusedImports\nimport STYLE from \"./style.css\"\nimport { ACESFilmicToneMapping, Color, sRGBEncoding } from \"three\";\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';\nimport OrganicQuads from \"@fforw/organic-quads\";\n\n// Instantiate a loader\nconst loader = new GLTFLoader();\n// Load a glTF resource\nloader.load(\n    // resource URL\n    'assets/tiles.glb',\n    // called when the resource is loaded\n    function ( gltf ) {\n\n        //scene.add( gltf.scene );\n\n        console.log(gltf)\n\n        // gltf.animations; // Array<THREE.AnimationClip>\n        // gltf.scene; // THREE.Group\n        // gltf.scenes; // Array<THREE.Group>\n        // gltf.cameras; // Array<THREE.Camera>\n        // gltf.asset; // Object\n\n    },\n    // called while loading is progressing\n    function ( xhr ) {\n\n        console.log( ( xhr.loaded / xhr.total * 100 ) + '% loaded' );\n\n    },\n    // called when loading has errors\n    function ( error ) {\n\n        console.log(\"An error happened\", error );\n\n    }\n);\n\nimport {Shape} from \"three\"\n\nfunction Islands()\n{\n\n    const island = useMemo(() => {\n\n        const organicQuads = new OrganicQuads({\n            numberOfRings: 3,\n            width: 100,\n            height: 100,\n            addQuads: true\n        });\n\n        const {quads, graph} = organicQuads;\n\n        const {length} = quads;\n\n        const height = new Float32Array(length / 4);\n\n        const boxes = [];\n        for (let i = 0; i < height.length; i++)\n        {\n\n            const n0 = quads[i * 4];\n            const n1 = quads[i * 4 + 1];\n            const n2 = quads[i * 4 + 2];\n            const n3 = quads[i * 4 + 3];\n\n            const onEdge = (graph[n0 + 2] || graph[n1 + 2] || graph[n2 + 2] || graph[n3 + 2])\n\n            const cx = (graph[n0] + graph[n1] + graph[n2] + graph[n3]) / 4;\n            const cy = (graph[n0 + 1] + graph[n1 + 1] + graph[n2 + 1] + graph[n3 + 1]) / 4;\n\n            const rnd = Math.random();\n            const h = onEdge ? 0.5  : rnd < 0.7 ? 2 : rnd < 0.98 ? 10 + Math.random() : 15;\n            height[i] = h;\n\n            const shape = new Shape();\n\n            shape.moveTo(graph[n0], graph[n0 + 1]);\n            shape.lineTo(graph[n1], graph[n1 + 1]);\n            shape.lineTo(graph[n2], graph[n2 + 1]);\n            shape.lineTo(graph[n3], graph[n3 + 1]);\n            shape.lineTo(graph[n0], graph[n0 + 1]);\n\n            const box = (\n                <mesh\n                    key={i}\n                    rotateOnWorldAxis={true}\n                    castShadow\n                    receiveShadow\n                >\n                    <ExtrudeBufferGeometry\n                        attach=\"geometry\"\n                        args={[\n                            shape,\n                            {\n                                steps: 2,\n                                depth: 0.2,\n                                bevelEnabled: true,\n                                bevelThickness: 0.5,\n                                bevelSize: 0.5,\n                                bevelOffset: 0,\n                                bevelSegments: 2\n                            }\n                        ]}\n\n                    />\n                    <MeshStandardMaterial attach=\"material\" roughness={0.9} color=\"#ffe6ee\"/>\n                </mesh>\n            );\n\n            //console.log(\"BOX\", h, box);\n\n            boxes.push(\n                box\n            )\n        }\n\n        console.log(\"INIT\", {quads, height})\n\n        return {\n            organicQuads,\n            height,\n            boxes\n        }\n    }, [])\n\n    const ref = useRef();\n    useFrame(() => (ref.current.rotation.z += 0.01));\n\n    return (\n        <mesh\n            ref={ref}\n            castShadow\n            receiveShadow\n        >\n            {\n                island.boxes\n            }\n        </mesh>\n\n    )\n}\n\nconst Game = () => {\n\n    return (\n        <Canvas\n            shadowMap\n            camera={{\n                position: [0, -75, 100],\n                fov: 60\n            }}\n        >\n            <Islands />\n            <mesh\n                receiveShadow\n            >\n                <planeBufferGeometry attach=\"geometry\" args={[1000, 1000]} />\n                <MeshStandardMaterial attach=\"material\" roughness={0} color=\"#6687e8\"/>\n            </mesh>\n            <directionalLight position={[0,0,1]} intensity={0.4} color=\"#e6e8ff\"/>\n            <spotLight intensity={1} position={[30, 30, 50]} angle={0.7} penumbra={1} castShadow color=\"#fff9e6\"/>\n        </Canvas>\n    )\n}\n\n\nReactDOM.render(\n\n    <Game/>,\n    document.getElementById('root')\n)\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar sqrt = Math.sqrt;\n\nvar Vector = /*#__PURE__*/function () {\n  function Vector(x, y) {\n    _classCallCheck(this, Vector);\n\n    this.x = x;\n    this.y = y;\n  }\n  /**\n   * Returns a copy of this vector.\n   *\n   * @returns {Vector} copy\n   */\n\n\n  _createClass(Vector, [{\n    key: \"copy\",\n    value: function copy() {\n      return new Vector(this.x, this.y);\n    }\n    /**\n     * Adds to this vector\n     *\n     * @param x     {number|Vector} x coordinate or a vector\n     * @param y     {number?} y coordinate, ignored if x is a vector\n     * @returns {Vector} this vector\n     */\n\n  }, {\n    key: \"add\",\n    value: function add(x, y) {\n      if (typeof x === \"number\") {\n        this.x += x;\n        this.y += y;\n      } else {\n        this.x += x.x;\n        this.y += x.y;\n      }\n\n      return this;\n    }\n    /**\n     * Subtracts from this vector\n     *\n     * @param x     {number|Vector} x coordinate or a vector\n     * @param y     {number?} y coordinate, ignored if x is a vector\n     * @returns {Vector} this vector\n     */\n\n  }, {\n    key: \"subtract\",\n    value: function subtract(x, y) {\n      if (typeof x === \"number\") {\n        this.x -= x;\n        this.y -= y;\n      } else {\n        this.x -= x.x;\n        this.y -= x.y;\n      }\n\n      return this;\n    }\n    /**\n     * Scales the vector by a planar number.\n     *\n     * @param n     scale\n     * @returns {Vector} this vector, scaled\n     */\n\n  }, {\n    key: \"scale\",\n    value: function scale(n) {\n      this.x *= n;\n      this.y *= n;\n      return this;\n    }\n    /**\n     * Length of this vector\n     *\n     * @returns {number}    length\n     */\n\n  }, {\n    key: \"length\",\n    value: function length() {\n      var x = this.x,\n          y = this.y;\n      return sqrt(x * x + y * y);\n    }\n    /**\n     * Scales the vector to normal length or a specified length\n     *\n     * @param targetLength      {number?} target length of the vector (default is 1, the normal vector length)\n     *\n     * @returns {Vector}\n     */\n\n  }, {\n    key: \"norm\",\n    value: function norm() {\n      var targetLength = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n      return this.scale(targetLength / this.length());\n    }\n    /**\n     * Rotate vector 90 degrees clockwise.\n     *\n     * @returns {Vector}\n     */\n\n  }, {\n    key: \"rotateClockwise\",\n    value: function rotateClockwise() {\n      var x = this.x,\n          y = this.y; //noinspection JSSuspiciousNameCombination\n\n      this.x = y;\n      this.y = -x;\n      return this;\n    }\n    /**\n     * Rotate vector 90 degrees counter clockwise.\n     *\n     * @returns {Vector}\n     */\n\n  }, {\n    key: \"rotateCounterClockwise\",\n    value: function rotateCounterClockwise() {\n      var x = this.x,\n          y = this.y;\n      this.x = -y; //noinspection JSSuspiciousNameCombination\n\n      this.y = x;\n      return this;\n    }\n    /**\n     * Sets the coordinates of this vector\n     *\n     * @param x     {number|Vector} x coordinate or a vector\n     * @param y     {number?} y coordinate, ignored if x is a vector\n     * @returns {Vector} this vector\n     */\n\n  }, {\n    key: \"set\",\n    value: function set(x, y) {\n      if (typeof x === \"number\") {\n        this.x = x;\n        this.y = y;\n      } else {\n        this.x = x.x;\n        this.y = x.y;\n      }\n    }\n  }]);\n\n  return Vector;\n}();\n\nvar _default = Vector;\nexports.default = _default;"],"sourceRoot":""}